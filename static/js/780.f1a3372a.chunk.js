"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[780],{780:function(n,t,e){e.r(t),e.d(t,{default:function(){return h}});var r=e(439),c=e(791),o=e(87),i=e(689),u=e(596),a=e(668),l=e(184),s=function(n){var t=n.handleFormSubmit;return(0,l.jsx)("div",{children:(0,l.jsxs)("form",{onSubmit:t,children:[(0,l.jsx)("input",{type:"text",name:"filmtitle"}),(0,l.jsx)("button",{type:"submit",children:"Search"})]})})},f=function(n){var t=n.films,e=n.location;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("ul",{children:t.map((function(n){var t=n.id,r=n.original_title,c=n.title;return(0,l.jsx)("li",{children:(0,l.jsx)(o.rU,{to:"".concat(t),state:{from:e},children:r||c})},t)}))})})},h=function(){var n=(0,i.TH)(),t=(0,c.useState)([]),e=(0,r.Z)(t,2),h=e[0],d=e[1],m=(0,c.useState)(null),g=(0,r.Z)(m,2),j=g[0],v=g[1],p=(0,o.lr)(),x=(0,r.Z)(p,2),_=x[0],b=x[1],k=_.get("title");console.log(h),console.log(k),(0,c.useEffect)((function(){k&&(0,a.qF)(k).then((function(n){var t=n.results;t.length?d(t):u.Am.error("".concat(k," not found"))})).catch((function(n){return v(n)}))}),[k]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s,{handleFormSubmit:function(n){n.preventDefault();var t=n.currentTarget;b({title:t.elements.filmtitle.value}),t.reset()}}),h.length>0&&(0,l.jsx)(f,{films:h,location:n}),j&&(0,l.jsx)("h2",{children:j.message}),(0,l.jsx)(c.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:(0,l.jsx)(i.j3,{})})]})}},668:function(n,t,e){e.d(t,{Jh:function(){return l},TP:function(){return u},bp:function(){return a},qF:function(){return i},rj:function(){return o}});var r="e7e8717bf37b2131c41f035d5b761556",c="https://api.themoviedb.org/3/",o=function(){return fetch("".concat(c,"trending/all/day?api_key=").concat(r)).then((function(n){return n.json()}))},i=function(n){return fetch("".concat(c,"search/movie?api_key=").concat(r,"&language=en-US&page=1&include_adult=false&query=").concat(n)).then((function(t){return t.ok?t.json():Promise.reject(new Error("".concat(n," not found")))}))},u=function(n){return fetch("".concat(c,"movie/").concat(n,"?api_key=").concat(r,"&language=en-US")).then((function(n){return n.ok?n.json():Promise.reject(new Error("Not found"))}))},a=function(n){return fetch("".concat(c,"movie/").concat(n,"/credits?api_key=").concat(r,"&language=en-US")).then((function(n){return n.json()}))},l=function(n){return fetch("".concat(c,"movie/").concat(n,"/reviews?api_key=").concat(r,"&language=en-US&page=1")).then((function(n){return n.json()}))}}}]);
//# sourceMappingURL=780.f1a3372a.chunk.js.map