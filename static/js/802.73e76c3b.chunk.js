"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[802],{802:function(n,e,t){t.r(e),t.d(e,{default:function(){return h}});var r=t(439),c=t(791),i=t(87),o=t(689),u=t(596),s=t(668),a=t(184),l=function(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Additional information"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(i.rU,{to:"cast",children:"Cast"})}),(0,a.jsx)("li",{children:(0,a.jsx)(i.rU,{to:"reviews",children:"Reviews"})})]}),(0,a.jsx)(c.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(o.j3,{})})]})},d=function(n){var e=n.film,t=e.original_title,r=e.title,c=e.poster_path,i=e.vote_average,o=e.overview,u=e.genres;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(c),alt:r})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:t||r}),(0,a.jsxs)("p",{children:["User Score: ",Math.round(100*i/10),"%"]}),(0,a.jsx)("h3",{children:"Overview"}),(0,a.jsx)("p",{children:o}),(0,a.jsx)("h3",{children:"Genres"}),(0,a.jsx)("p",{children:u.map((function(n){return n.name})).join(" ")})]}),(0,a.jsx)(l,{})]})},h=function(){var n,e,t=(0,o.UO)().movieId,l=(0,o.TH)(),h=(0,c.useRef)(null!==(n=null===(e=l.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/movies"),f=(0,c.useState)(null),j=(0,r.Z)(f,2),v=j[0],x=j[1],p=(0,c.useState)(null),g=(0,r.Z)(p,2),m=g[0],_=g[1];return(0,c.useEffect)((function(){t&&(0,s.TP)(t).then((function(n){n?x(n):u.Am.error("Not found")})).catch((function(n){return _(n)}))}),[t]),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(i.rU,{to:h.current,children:"Go back"})}),v&&(0,a.jsx)(d,{film:v}),m&&(0,a.jsx)("h2",{children:m.message})]})}},668:function(n,e,t){t.d(e,{Jh:function(){return a},TP:function(){return u},bp:function(){return s},qF:function(){return o},rj:function(){return i}});var r="e7e8717bf37b2131c41f035d5b761556",c="https://api.themoviedb.org/3/",i=function(){return fetch("".concat(c,"trending/all/day?api_key=").concat(r)).then((function(n){return n.json()}))},o=function(n){return fetch("".concat(c,"search/movie?api_key=").concat(r,"&language=en-US&page=1&include_adult=false&query=").concat(n)).then((function(e){return e.ok?e.json():Promise.reject(new Error("".concat(n," not found")))}))},u=function(n){return fetch("".concat(c,"movie/").concat(n,"?api_key=").concat(r,"&language=en-US")).then((function(n){return n.ok?n.json():Promise.reject(new Error("Not found"))}))},s=function(n){return fetch("".concat(c,"movie/").concat(n,"/credits?api_key=").concat(r,"&language=en-US")).then((function(n){return n.json()}))},a=function(n){return fetch("".concat(c,"movie/").concat(n,"/reviews?api_key=").concat(r,"&language=en-US&page=1")).then((function(n){return n.json()}))}}}]);
//# sourceMappingURL=802.73e76c3b.chunk.js.map